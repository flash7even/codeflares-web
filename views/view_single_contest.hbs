<head>
	<link rel="stylesheet" type="text/css" href="/css/main.css">
</head>


<div class="problem-set-table" style="width: 100%%;  margin-right:1px auto">		
    <div class="cfs-title-1">
        <div class="row cfs-title-1-inside">
            {{#if problem-set-page}}
            <div class="selected-button">
            <a style="color: rgb(0, 0, 0);" href="/contest/view/{{id}}/" class="btn btn-sm" role="button"><b>Problems</b></a>
            </div>
            {{else}}
            <a href="/contest/view/{{id}}/" class="btn btn-sm" role="button"><b>Problems</b></a>
            {{/if}}
            {{#if standings-page}}
            <div class="selected-button">
            <a style="color: rgb(0, 0, 0);" href="/contest/standings/{{id}}/" class="btn btn-sm" role="button"><b>Standings</b></a>
            </div>
            {{else}}
            <a href="/contest/standings/{{id}}/" class="btn btn-sm" role="button"><b>Standings</b></a>
            {{/if}}
            {{#if announcement-page}}
            <div class="selected-button">
            <a style="color: rgb(0, 0, 0);" href="/contest/announcements/{{id}}/" class="btn btn-sm" role="button"><b>Announcements</b></a>
            </div>
            {{else}}
            <a href="/contest/announcements/{{id}}/" class="btn btn-sm" role="button"><b>Announcements</b></a>
            {{/if}}
        </div>
    </div>
    <br>
    <br>
    <div class="row">
        <div class="col-md-8">
            <ul style="width: 97%;">
                {{#each problem_set}}
                    <a href="/">
                    <li class="problem-row">
                        <div class="row">
                            <div class="col-md-6" style="padding-top: 10px;">
                                <a href = "/problem/view/{{id}}/" style="color: #3d87b9; font-weight:500; text-decoration: underline;">{{problem_order}}. {{problem_name}}</a>
                            </div>
                            <div class="col-md-4" style="padding-top: 10px;">
                                <h6>{{oj_name}} - {{problem_id}}</h6>
                            </div>
                            <div class="col-md-2">
                                <div class = "display: flex; align-items: center; justify-content: center;">
                                    <a href="{{source_link}}" class="btn btn-light" role="button">Solve</a>
                                </div>
                            </div>
                        </div>
                    </li>
                    </a>
                    <br>
                {{/each}}
            </ul>
        </div>
        <div class="col-md-3">
            <div class="contest-header">
                <h4><b>{{contest_name}}</b></h4>
                <hr>
                <h6 style="font-size: 12px;">{{start_date}} - {{end_date}}</h6>
                <h6 style="text-align: center; font-size:small;">Problem Setter: <a href="/profile/{{user_handle}}/" style="color: {{user_skill_color}};">{{setter_handle}}</a></h6>
            </div>
            <br>
            <br>
            <br>
            <div class="contest-info-box" style="height: 200px;">

                <h4>Contest Level: {{contest_level}}</h4>
                <hr>
                <p style="font-size: 12px;">Contest level defines the difficulty of a contest. The more the contest level is closer to the individual skill level of a
                    contestant, the more it is suitable for him.
                </p>
            </div>
            <br>
            <br>
            <br>
            <div class="contest-info-box" style="height: 250px;">

                <h4>Contest Format</h4>
                <hr>
                <p style="font-size: 12px;">Training contest statistics are generated completely based on the offline problem solving history. After any
                    contestant solve a particular problem, he needs to sync his profile to see his performance reflected on the contest standings.
                </p>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">

    function getProblemList(){
        var data_list = [];
        {{#each problem_set}}
            var prbolem_link = '<a href = "/problem/view/{{id}}/" style="color: #058876; font-weight:500; text-decoration: underline;">{{problem_name}}</a>'
            var source_link = '<a href = {{source_link}} style="color: #058876; font-weight:500; text-decoration: underline;"><i class="fas fa-link"></i></a>'
            var solve_count = `<span style="color: #05578E;">{{solve_count}}</span>`
            var data = ["{{problem_order}}", prbolem_link, source_link, "{{problem_id}}", "{{oj_name}}", solve_count];
            data_list.push(data)
        {{/each}}
        return data_list;
    }

    function showProblemsDTSearchTable(){
        var dt_list = getProblemList();
        
        $("#problemListTable").dataTable({
            "aaData": dt_list,
            paging: false,
            searching: false,
            ordering: false,
            info: false,
            destroy: true,
            scrollCollapse: true,
            responsive: true,
            pageLength: 10,
            lengthMenu: [[3, 5, 10, -1], [3, 5, 10, 20]]
        });
    }

    $(document).ready( function () {
        showProblemsDTSearchTable();
    } );

</script>
