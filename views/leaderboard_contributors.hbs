<head>
	<link rel="stylesheet" type="text/css" href="/css/main.css">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
</head>


<div class="table-type-1" style="margin-left: 0px;">
    <div class="table-title-2">
        <h4 style="text-align: center;"><b>Top Contributors</b></h4>
    </div>
    <table id="topContributorsTable" class="table table-striped table-bordered" style="text-align: center;">
        <thead style="background-color: #accbe1;">
            <tr>
                <th>Rank</th>
                <th>User</th>
                <th>Contribution</th>
            </tr>
        </thead>
        <tbody>

        </tbody>
    </table>
</div>


<script type="text/javascript">


    function top_contributors(){
        var dt_list = [];
        {{#each top_contributors}}
            var user_link = '<a href = "/profile/{{username}}/" style="color: #5bc0de; font-weight:700;">{{username}}</a>'
            var data = ["{{rank}}", user_link, "{{contribution}}"];
            dt_list.push(data)
        {{/each}}

        return dt_list;
    }

    function showTopContributorsDTSearchTable(){
        var dt_list = top_contributors();
        
        $("#topContributorsTable").dataTable({
            "aaData": dt_list,
            paging: true,
            destroy: true,
            scrollCollapse: true,
            responsive: true,
            pageLength: 50
        });
    }

    $(document).ready( function () {
        showTopContributorsDTSearchTable();
    } );

</script>
